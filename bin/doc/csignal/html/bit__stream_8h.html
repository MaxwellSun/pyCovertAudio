<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CSignal: src/include/bit_stream.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CSignal
   </div>
   <div id="projectbrief">Cross-platform audio hardware abstraction library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('bit__stream_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bit_stream.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to handle reading bits from a byte buffer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cpcommon.h&gt;</code><br />
<code>#include &quot;<a class="el" href="bit__packer_8h_source.html">bit_packer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="csignal__error__codes_8h_source.html">csignal_error_codes.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bit_stream.h:</div>
<div class="dyncontent">
<div class="center"><img src="bit__stream_8h__incl.png" border="0" usemap="#src_2include_2bit__stream_8h" alt=""/></div>
<map name="src_2include_2bit__stream_8h" id="src_2include_2bit__stream_8h">
<area shape="rect" id="node3" href="bit__packer_8h.html" title="Definition for methods to store bits in a data structure. " alt="" coords="88,79,181,104"/>
<area shape="rect" id="node4" href="csignal__error__codes_8h.html" title="The error codes produced by the csignal library are defined here. These error codes are superset of e..." alt="" coords="137,152,289,177"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="bit__stream_8h__dep__incl.png" border="0" usemap="#src_2include_2bit__stream_8hdep" alt=""/></div>
<map name="src_2include_2bit__stream_8hdep" id="src_2include_2bit__stream_8hdep">
<area shape="rect" id="node2" href="bit__stream_8c.html" title="Implementation of functions to read bits from a byte buffer. " alt="" coords="5,79,121,104"/>
<area shape="rect" id="node3" href="csignal_8h.html" title="This is the main include file for the csignal library. This is the only header file that needs to be ..." alt="" coords="144,79,286,104"/>
<area shape="rect" id="node4" href="csignal_8c.html" title="This file contains the implementation for generating data modulated audio signals. Currently, implementations for BFSK and DSSS are supported. " alt="" coords="28,152,122,177"/>
<area shape="rect" id="node5" href="detect_8h.html" title="Functions used to detect the presence of input (i.e., received) signals. " alt="" coords="147,152,283,177"/>
<area shape="rect" id="node6" href="detect_8c.html" title="Implementation of signal detection routines. " alt="" coords="170,225,260,251"/>
</map>
</div>
</div>
<p><a href="bit__stream_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbit__stream__t.html">bit_stream_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac47eb19001c7ac762ad048ea9dda00c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac47eb19001c7ac762ad048ea9dda00c7"></a>
typedef struct <a class="el" href="structbit__stream__t.html">bit_stream_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a></td></tr>
<tr class="memdesc:ac47eb19001c7ac762ad048ea9dda00c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct definition for symbol tracker. A symbol tracker is used to iterate through the symbols in a buffer. Symbols of variable bit- length are read from index 0 to data_length. <br /></td></tr>
<tr class="separator:ac47eb19001c7ac762ad048ea9dda00c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a54a4a1928fb8c379577206c0bf1cc037"><td class="memItemLeft" align="right" valign="top">USIZE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bit__stream_8h.html#a54a4a1928fb8c379577206c0bf1cc037">bit_stream_get_number_of_remaining_bits</a> (<a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *in_bit_stream)</td></tr>
<tr class="memdesc:a54a4a1928fb8c379577206c0bf1cc037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of bits left to read in in_bit_stream if circular is not set to CPC_TRUE, otherwise MAX_USIZE is returned.  <a href="#a54a4a1928fb8c379577206c0bf1cc037">More...</a><br /></td></tr>
<tr class="separator:a54a4a1928fb8c379577206c0bf1cc037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544dba77cf76c24394b77265b3f9ce79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bit__stream_8h.html#a544dba77cf76c24394b77265b3f9ce79">bit_stream_initialize</a> (CPC_BOOL in_circular, UCHAR *in_data, USIZE in_data_length, <a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> **out_bit_stream)</td></tr>
<tr class="memdesc:a544dba77cf76c24394b77265b3f9ce79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the bit_stream struct with a data buffer and sets both bit and byte offsets to 0. If cicular is set to CPC_TRUE data is read from the packer in circular fashion (i.e., the read pointers reset to zero when they reach the end of the packer's data). If in_circular is True then the bit_stream will read the data provided to it circularly (i.e., it will return to bit index 0 after returning bit index n, where n is the number of bits in the bit stream). If False, the the bit stream will return an error when attempting to read more than n bits.  <a href="#a544dba77cf76c24394b77265b3f9ce79">More...</a><br /></td></tr>
<tr class="separator:a544dba77cf76c24394b77265b3f9ce79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb5a46ad5eb9a4ed6a48fc8cd7a333e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bit__stream_8h.html#a6eb5a46ad5eb9a4ed6a48fc8cd7a333e">bit_stream_initialize_from_bit_packer</a> (CPC_BOOL in_circular, <a class="el" href="bit__packer_8h.html#aca8f392d781424f335405f68d26db1e3">bit_packer</a> *in_bit_packer, <a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> **out_bit_stream)</td></tr>
<tr class="memdesc:a6eb5a46ad5eb9a4ed6a48fc8cd7a333e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new bit stream whose data buffer is a copy of the buffer stored by in_bit_packer. If cicular is set to CPC_TRUE data is read from the packer in circular fashion (i.e., the read pointers reset to zero when they reach the end of the packer's data).  <a href="#a6eb5a46ad5eb9a4ed6a48fc8cd7a333e">More...</a><br /></td></tr>
<tr class="separator:a6eb5a46ad5eb9a4ed6a48fc8cd7a333e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dca7ce9314656cd64b86450ff333e00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bit__stream_8h.html#a3dca7ce9314656cd64b86450ff333e00">bit_stream_destroy</a> (<a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *io_bit_stream)</td></tr>
<tr class="memdesc:a3dca7ce9314656cd64b86450ff333e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees io_bit_stream along with the data buffer pointed to.  <a href="#a3dca7ce9314656cd64b86450ff333e00">More...</a><br /></td></tr>
<tr class="separator:a3dca7ce9314656cd64b86450ff333e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e9ca126cc22d62b3796aeaf28b89e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bit__stream_8h.html#ad6e9ca126cc22d62b3796aeaf28b89e9">bit_stream_get_bits</a> (<a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *io_bit_stream, USIZE *io_num_bits, UCHAR **out_data, USIZE *out_data_length)</td></tr>
<tr class="memdesc:ad6e9ca126cc22d62b3796aeaf28b89e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies up to io_num_bits from io_bit_stream, copies them to out_data and returns the size of out_data in out_data_length and the number of copied bits in io_num_bits.  <a href="#ad6e9ca126cc22d62b3796aeaf28b89e9">More...</a><br /></td></tr>
<tr class="separator:ad6e9ca126cc22d62b3796aeaf28b89e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb28e70310e93497ff641c687f6530a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bit__stream_8h.html#abeb28e70310e93497ff641c687f6530a">bit_stream_peak</a> (<a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *in_bit_stream, UCHAR *out_read_bit_offset, UCHAR *out_write_bit_offset, USIZE *out_buffer_length, UCHAR **out_buffer)</td></tr>
<tr class="memdesc:abeb28e70310e93497ff641c687f6530a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides visibility into the position of the bit stream without modifying the read and write pointers.  <a href="#abeb28e70310e93497ff641c687f6530a">More...</a><br /></td></tr>
<tr class="separator:abeb28e70310e93497ff641c687f6530a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3fd55a0206ac08c1775d861749bccd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bit__stream_8h.html#ac3fd55a0206ac08c1775d861749bccd0">bit_stream_reset</a> (<a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *io_bit_stream)</td></tr>
<tr class="memdesc:ac3fd55a0206ac08c1775d861749bccd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the read pointers to be front of the packer buffer.  <a href="#ac3fd55a0206ac08c1775d861749bccd0">More...</a><br /></td></tr>
<tr class="separator:ac3fd55a0206ac08c1775d861749bccd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions to handle reading bits from a byte buffer. </p>
<dl class="section author"><dt>Author</dt><dd>Brent Carrara </dd></dl>

<p>Definition in file <a class="el" href="bit__stream_8h_source.html">bit_stream.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3dca7ce9314656cd64b86450ff333e00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> bit_stream_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *&#160;</td>
          <td class="paramname"><em>io_bit_stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees io_bit_stream along with the data buffer pointed to. </p>
<dl class="section note"><dt>Note</dt><dd>If io_bit_stream-&gt;dirty_bit is CPC_TRUE then the data buffer pointed to by this stream will NOT be freed.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_free for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER if io_bit_stream is null </p>

<p>Definition at line <a class="el" href="bit__stream_8c_source.html#l00100">100</a> of file <a class="el" href="bit__stream_8c_source.html">bit_stream.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bit__stream_8h_a3dca7ce9314656cd64b86450ff333e00_cgraph.png" border="0" usemap="#bit__stream_8h_a3dca7ce9314656cd64b86450ff333e00_cgraph" alt=""/></div>
<map name="bit__stream_8h_a3dca7ce9314656cd64b86450ff333e00_cgraph" id="bit__stream_8h_a3dca7ce9314656cd64b86450ff333e00_cgraph">
<area shape="rect" id="node2" href="bit__packer_8c.html#abdf630b288cdb85b3e3c843d925d9848" title="Frees the struct in_bit_packer. Will also destroy the internal buffer data of the struct..." alt="" coords="188,5,322,31"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad6e9ca126cc22d62b3796aeaf28b89e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> bit_stream_get_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *&#160;</td>
          <td class="paramname"><em>io_bit_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE *&#160;</td>
          <td class="paramname"><em>io_num_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR **&#160;</td>
          <td class="paramname"><em>out_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE *&#160;</td>
          <td class="paramname"><em>out_data_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies up to io_num_bits from io_bit_stream, copies them to out_data and returns the size of out_data in out_data_length and the number of copied bits in io_num_bits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_bit_stream</td><td>The bit stream to get the bits from. </td></tr>
    <tr><td class="paramname">io_num_bits</td><td>Originally contains the number of bits to copy from io_bit_stream. After the call it contains the number of bits actually copied to out_data. </td></tr>
    <tr><td class="paramname">out_data</td><td>A buffer of bits copied from io_bit_stream. Note the size of this buffer is stored in out_data_length, but is also equal to ceil( io_num_bits / 8 ). </td></tr>
    <tr><td class="paramname">out_data_length</td><td>The size of out_data in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_malloc and <a class="el" href="bit__packer_8h.html" title="Definition for methods to store bits in a data structure. ">bit_packer.h</a> for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER If any of the inputs are null. </p>

<p>Definition at line <a class="el" href="bit__stream_8c_source.html#l00126">126</a> of file <a class="el" href="bit__stream_8c_source.html">bit_stream.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bit__stream_8h_ad6e9ca126cc22d62b3796aeaf28b89e9_cgraph.png" border="0" usemap="#bit__stream_8h_ad6e9ca126cc22d62b3796aeaf28b89e9_cgraph" alt=""/></div>
<map name="bit__stream_8h_ad6e9ca126cc22d62b3796aeaf28b89e9_cgraph" id="bit__stream_8h_ad6e9ca126cc22d62b3796aeaf28b89e9_cgraph">
<area shape="rect" id="node2" href="bit__packer_8c.html#a3342c8eabe61a659d0b7898599b4e790" title="Initializes the bit_packer struct with an empty data buffer and sets both bit and byte offsets to 0..." alt="" coords="203,5,341,31"/>
<area shape="rect" id="node3" href="bit__stream_8c.html#a54a4a1928fb8c379577206c0bf1cc037" title="Returns the number of bits left to read in in_bit_stream if circular is not set to CPC_TRUE..." alt="" coords="191,55,353,93"/>
<area shape="rect" id="node4" href="bit__packer_8c.html#a169b401cc9a75d9dc03ac6049939de0f" title="Adds the in_num_bits LSBs in in_data to the bit packer. " alt="" coords="202,117,342,143"/>
<area shape="rect" id="node6" href="bit__packer_8c.html#a311f43a7a9b5a7870b16689d51d78776" title="Copies the buffer from the packer to out_data (initializes out_data) and sets the length in out_data_..." alt="" coords="198,167,346,192"/>
<area shape="rect" id="node7" href="bit__packer_8c.html#abdf630b288cdb85b3e3c843d925d9848" title="Frees the struct in_bit_packer. Will also destroy the internal buffer data of the struct..." alt="" coords="205,216,339,241"/>
<area shape="rect" id="node5" href="bit__packer_8c.html#a19ba4d19f9af4262c0f50f3e084d379d" title="Grows the internal buffer stored in io_bit_packer by a factor of BIT_PACKER_GROWTH_RATE. " alt="" coords="401,117,520,143"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a54a4a1928fb8c379577206c0bf1cc037"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USIZE bit_stream_get_number_of_remaining_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *&#160;</td>
          <td class="paramname"><em>in_bit_stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of bits left to read in in_bit_stream if circular is not set to CPC_TRUE, otherwise MAX_USIZE is returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_bit_stream</td><td>The bit stream to query for the number of remaining bits. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of remaining bits to read in bit_stream (or MAX_USIZE if circular is CPC_TRUE). </dd></dl>

<p>Definition at line <a class="el" href="bit__stream_8c_source.html#l00246">246</a> of file <a class="el" href="bit__stream_8c_source.html">bit_stream.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bit__stream_8h_a54a4a1928fb8c379577206c0bf1cc037_icgraph.png" border="0" usemap="#bit__stream_8h_a54a4a1928fb8c379577206c0bf1cc037_icgraph" alt=""/></div>
<map name="bit__stream_8h_a54a4a1928fb8c379577206c0bf1cc037_icgraph" id="bit__stream_8h_a54a4a1928fb8c379577206c0bf1cc037_icgraph">
<area shape="rect" id="node2" href="bit__stream_8h.html#ad6e9ca126cc22d62b3796aeaf28b89e9" title="Copies up to io_num_bits from io_bit_stream, copies them to out_data and returns the size of out_data..." alt="" coords="215,12,353,37"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a544dba77cf76c24394b77265b3f9ce79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> bit_stream_initialize </td>
          <td>(</td>
          <td class="paramtype">CPC_BOOL&#160;</td>
          <td class="paramname"><em>in_circular</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR *&#160;</td>
          <td class="paramname"><em>in_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE&#160;</td>
          <td class="paramname"><em>in_data_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> **&#160;</td>
          <td class="paramname"><em>out_bit_stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the bit_stream struct with a data buffer and sets both bit and byte offsets to 0. If cicular is set to CPC_TRUE data is read from the packer in circular fashion (i.e., the read pointers reset to zero when they reach the end of the packer's data). If in_circular is True then the bit_stream will read the data provided to it circularly (i.e., it will return to bit index 0 after returning bit index n, where n is the number of bits in the bit stream). If False, the the bit stream will return an error when attempting to read more than n bits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_circular</td><td>If CPC_TRUE the read points reset to zero when they reach the end of the packer's data. </td></tr>
    <tr><td class="paramname">in_data</td><td>The data buffer that contains the bits to read. </td></tr>
    <tr><td class="paramname">in_data_length</td><td>The length of in_data </td></tr>
    <tr><td class="paramname">out_bit_stream</td><td>If this function successfully completes this parameter will point to a newly created bit_stream. It will be NULL otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_malloc for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER If in_data or out_bit_stream is null </p>

<p>Definition at line <a class="el" href="bit__stream_8c_source.html#l00009">9</a> of file <a class="el" href="bit__stream_8c_source.html">bit_stream.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bit__stream_8h_a544dba77cf76c24394b77265b3f9ce79_cgraph.png" border="0" usemap="#bit__stream_8h_a544dba77cf76c24394b77265b3f9ce79_cgraph" alt=""/></div>
<map name="bit__stream_8h_a544dba77cf76c24394b77265b3f9ce79_cgraph" id="bit__stream_8h_a544dba77cf76c24394b77265b3f9ce79_cgraph">
<area shape="rect" id="node2" href="bit__packer_8c.html#a3342c8eabe61a659d0b7898599b4e790" title="Initializes the bit_packer struct with an empty data buffer and sets both bit and byte offsets to 0..." alt="" coords="199,5,337,31"/>
<area shape="rect" id="node3" href="bit__packer_8c.html#adb6d2902b1f5d04c2721684371a13410" title="Adds the data in in_data to the bit packer. " alt="" coords="192,55,344,80"/>
<area shape="rect" id="node4" href="bit__packer_8c.html#a169b401cc9a75d9dc03ac6049939de0f" title="Adds the in_num_bits LSBs in in_data to the bit packer. " alt="" coords="392,55,532,80"/>
<area shape="rect" id="node5" href="bit__packer_8c.html#a19ba4d19f9af4262c0f50f3e084d379d" title="Grows the internal buffer stored in io_bit_packer by a factor of BIT_PACKER_GROWTH_RATE. " alt="" coords="580,55,699,80"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6eb5a46ad5eb9a4ed6a48fc8cd7a333e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> bit_stream_initialize_from_bit_packer </td>
          <td>(</td>
          <td class="paramtype">CPC_BOOL&#160;</td>
          <td class="paramname"><em>in_circular</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bit__packer_8h.html#aca8f392d781424f335405f68d26db1e3">bit_packer</a> *&#160;</td>
          <td class="paramname"><em>in_bit_packer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> **&#160;</td>
          <td class="paramname"><em>out_bit_stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new bit stream whose data buffer is a copy of the buffer stored by in_bit_packer. If cicular is set to CPC_TRUE data is read from the packer in circular fashion (i.e., the read pointers reset to zero when they reach the end of the packer's data). </p>
<dl class="section note"><dt>Note</dt><dd>The data buffer from the bit_packer will not be copied to the newly created bit stream object. The pointer to the data buffer in bit_packer is copied. The bit_packer owns the data buffer and is therefore responsible for freeing it. Furthermore, the length of the data buffer is copied when this function is called and therefore if the data buffer grows it will not be reflected in the stream. Lastly, if the bit_packer grows (i.e., is realloc'd) then the pointer that the stream points to (i.e., the data pointer) will be invalid.</dd>
<dd>
This is a potentially hazardous function to call for a number of reasons:</dd></dl>
<p>1) If bit_packer-&gt;data is realloc'd the data pointer in out_bit_stream will be invalid (i.e., either NULL or point to memory that is freed). 2) If the bit_packer-&gt;data has more data added to it after the call to this function and bit_packer-&gt;data_length is updated out_data_stream will not be aware there is new data.</p>
<p>This function should only be called when the caller knows definitely that the bit_packer is not longer being modified. This function is provided for efficiency reasons to save copying the buffer from the packer to the stream on stream initialization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_circular</td><td>If CPC_TRUE the read points reset to zero when they reach the end of the packer's data. </td></tr>
    <tr><td class="paramname">in_bit_packer</td><td>The packer whose data is to be copied. </td></tr>
    <tr><td class="paramname">out_bit_stream</td><td>A newly created bit stream or Null if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_malloc and bit_packer_get_bytes for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER If in_data or out_bit_stream is null </p>

<p>Definition at line <a class="el" href="bit__stream_8c_source.html#l00063">63</a> of file <a class="el" href="bit__stream_8c_source.html">bit_stream.c</a>.</p>

</div>
</div>
<a class="anchor" id="abeb28e70310e93497ff641c687f6530a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> bit_stream_peak </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *&#160;</td>
          <td class="paramname"><em>in_bit_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR *&#160;</td>
          <td class="paramname"><em>out_read_bit_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR *&#160;</td>
          <td class="paramname"><em>out_write_bit_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE *&#160;</td>
          <td class="paramname"><em>out_buffer_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR **&#160;</td>
          <td class="paramname"><em>out_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides visibility into the position of the bit stream without modifying the read and write pointers. </p>
<dl class="section note"><dt>Note</dt><dd>This function returns the current values of the bit stream, there is absolutely no guarantee they will not change after or during this function call, proper synchronization is required.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_bit_stream</td><td>The bit stream to peak into (i.e., get access to the remaining unread data. </td></tr>
    <tr><td class="paramname">out_read_bit_offset</td><td>The current read offset (bit). This is the bit offset into out_data[ 0 ]. </td></tr>
    <tr><td class="paramname">out_write_bit_offset</td><td>The current write offset (bit). This is the bit offset into out_data[ out_data_length - 1] </td></tr>
    <tr><td class="paramname">out_buffer_length</td><td>The number of UCHAR elements in out_buffer. </td></tr>
    <tr><td class="paramname">out_buffer</td><td>Pointer to the start of the data buffer containing all the current unread bits in the stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_malloc for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER If any of the inputs are null. </p>

<p>Definition at line <a class="el" href="bit__stream_8c_source.html#l00280">280</a> of file <a class="el" href="bit__stream_8c_source.html">bit_stream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac3fd55a0206ac08c1775d861749bccd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> bit_stream_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bit__stream_8h.html#ac47eb19001c7ac762ad048ea9dda00c7">bit_stream</a> *&#160;</td>
          <td class="paramname"><em>io_bit_stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the read pointers to be front of the packer buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_bit_stream</td><td>The bit stream whose read pointers are to be reset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors: <pre class="fragment">    CPC_ERROR_CODE_NULL_POINTER If any of the inputs are null.</pre> </dd></dl>

<p>Definition at line <a class="el" href="bit__stream_8c_source.html#l00336">336</a> of file <a class="el" href="bit__stream_8c_source.html">bit_stream.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b0856f6b0d80ccb263b2f415c91f9e17.html">include</a></li><li class="navelem"><a class="el" href="bit__stream_8h.html">bit_stream.h</a></li>
    <li class="footer">Generated on Fri Apr 1 2016 09:45:23 for CSignal by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
